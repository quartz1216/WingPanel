<Window
    x:Class="WingPanel.App.PanelWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="using:WingPanel.App.ViewModels"
    Title="WingPanel">
    <Window.Resources>
        <DataTemplate x:Key="RegionTemplate" x:DataType="vm:RegionHostViewModel">
            <ContentControl Content="{x:Bind View}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" />
        </DataTemplate>
        <ItemsPanelTemplate x:Key="HorizontalPanelTemplate">
            <StackPanel Orientation="Horizontal" />
        </ItemsPanelTemplate>
    </Window.Resources>
    <Grid>
        <ListView
            x:Name="RegionList"
            ItemsSource="{x:Bind ViewModel.Regions, Mode=OneWay}"
            ItemTemplate="{StaticResource RegionTemplate}"
            ItemsPanel="{StaticResource HorizontalPanelTemplate}"
            SelectionMode="None"
            CanDragItems="True"
            AllowDrop="True"
            CanReorderItems="True">
            <ListView.KeyboardNavigationMode>Cycle</ListView.KeyboardNavigationMode>
            <ListView.ItemContainerStyle>
                <Style TargetType="ListViewItem">
                    <Setter Property="Margin" Value="0,0,4,0" />
                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                </Style>
            </ListView.ItemContainerStyle>
            <ListView.ItemContainerTransitions>
                <TransitionCollection>
                    <EntranceThemeTransition />
                    <ReorderThemeTransition />
                </TransitionCollection>
            </ListView.ItemContainerTransitions>
        </ListView>
    </Grid>
</Window>
